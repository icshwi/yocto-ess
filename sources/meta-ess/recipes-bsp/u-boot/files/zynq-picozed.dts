/*
 * Avnet PicoZed board DTS
 * Modified for FPGA-IOC
 *
 * Copyright (C) 2015 Xilinx, Inc.
 *
 * SPDX-License-Identifier: GPL-2.0+
 */
/dts-v1/;
#include "zynq-7000.dtsi"

/ {
    model = "Zynq PicoZed Board / FPGA-IOC";
    compatible = "xlnx,zynq-picozed", "xlnx,zynq-7000";

    aliases {
        serial0 = &uart0;
        ethernet0 = &gem0;
        spi0 = &qspi;
        spi1 = &spi0;
        mmc0 = &sdhci1;
    };

    memory@0 {
        device_type = "memory";
        reg = <0 0x40000000>;
    };

    chosen {
        bootargs = "earlycon";
        stdout-path = "serial0:115200n8";
    };
};

&gem0 {
    status = "okay";
    phy-mode = "rgmii-id";
    phy-handle = <&ethernet_phy>;

    ethernet_phy: ethernet-phy@0 {
        compatible = "marvell,88e1512";
        device_type = "ethernet-phy";
        reg = <0>;
    };
};

&uart0 {
    u-boot,dm-pre-reloc;
    status = "okay";
};

&uart1 {
    u-boot,dm-pre-reloc;
    status = "okay";
};

&qspi {
    u-boot,dm-pre-reloc;
    status = "okay";
};

&sdhci0 {
    u-boot,dm-pre-reloc;
    status = "disabled";
};

&sdhci1 {
    u-boot,dm-pre-reloc;
    status = "okay";
};

&spi0 {
    status = "okay";
    spi-max-frequency = <5000000>; /* Max frequency (Hz) */
    spi-activate-delay = <1>; /* Time delay between activating chip-select and starting clock (uS) */
    spi-deactivate-delay = <1>; /* Time delay between stopping clock and de-activating chip-select (uS) */
};

&i2c1 {
    status = "okay";
    clock-frequency = <400000>;

    i2c-mux@75 {
        compatible = "nxp,pca9546";
        #address-cells = <1>;
        #size-cells = <0>;
        reg = <0x75>;

        i2c@0 {
            #address-cells = <1>;
            #size-cells = <0>;
            reg = <0>;
            si5346@6f {
                compatible = "linux,si5346";
                reg = <0x6f>;
            };
        };

        i2c@1 {
            #address-cells = <1>;
            #size-cells = <0>;
            reg = <1>;

            pca9541a@77 {
                compatible = "nxp,pca9541";
                reg = <0x77>;

                i2c-arb {
                    #address-cells = <1>;
                    #size-cells = <0>;

                    temp@49 {
                        reg = <0x49>;
                    };

                    svc-eth-mac@50 {
                        compatible = "atmel,24c02";
                        reg = <0x50>;
                    };

                    zynq-eth-mac@52 {
                        compatible = "atmel,24c02";
                        reg = <0x52>;
                    };

                    zynq-sfp-mac@53 {
                        compatible = "atmel,24c02";
                        reg = <0x53>;
                    };

                    rtc@69 {
                        compatible = "abracon,ab0805";
                        reg = <0x69>;
                        abracon,tc-diode = "standard";
                    };
                };
            };
        };

        i2c@2 {
            #address-cells = <1>;
            #size-cells = <0>;
            reg = <2>;
            fmc@77 {
                reg = <0x77>;
            };
        };
    };
};

